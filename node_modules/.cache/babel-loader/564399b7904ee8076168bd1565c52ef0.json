{"ast":null,"code":"import { signInAction } from \"./actions\";\nimport { push } from \"connected-react-router\";\nexport const signIn = () => {\n  return async (dispatch, getState) => {\n    //getState関数は現在のstoreのstateの値を取得することができる。\n    const state = getState();\n    const isSignedIn = state.users.isSignedIn; //sign inされていなければsign inをしてsign inしたuserの値を変更する\n    //今回はまずgithubを使ってやってみる\n\n    if (!isSignedIn) {\n      const url = \"https://api.github.com/users/aku424\";\n      const response = await fetch(url);\n      const username = response.login;\n      dispatch(signInAction({\n        isSignedIn: true,\n        uid: \"0001\",\n        username: username\n      }));\n      dispatch(push('/'));\n    }\n  };\n};","map":{"version":3,"sources":["/Users/takashimatakuto/Documents/app/ec-site/src/reducks/users/operations.js"],"names":["signInAction","push","signIn","dispatch","getState","state","isSignedIn","users","url","response","fetch","username","login","uid"],"mappings":"AAAA,SAAQA,YAAR,QAA2B,WAA3B;AACA,SAAQC,IAAR,QAAmB,wBAAnB;AAEA,OAAO,MAAMC,MAAM,GAAG,MAAI;AACtB,SAAO,OAAOC,QAAP,EAAiBC,QAAjB,KAA8B;AACjC;AACA,UAAMC,KAAK,GAAGD,QAAQ,EAAtB;AACA,UAAME,UAAU,GAAGD,KAAK,CAACE,KAAN,CAAYD,UAA/B,CAHiC,CAKjC;AACA;;AACA,QAAI,CAACA,UAAL,EAAiB;AACb,YAAME,GAAG,GAAG,qCAAZ;AACA,YAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACF,GAAD,CAA5B;AAGA,YAAMG,QAAQ,GAAGF,QAAQ,CAACG,KAA1B;AACAT,MAAAA,QAAQ,CAACH,YAAY,CAAC;AAClBM,QAAAA,UAAU,EAAE,IADM;AAElBO,QAAAA,GAAG,EAAE,MAFa;AAGlBF,QAAAA,QAAQ,EAAEA;AAHQ,OAAD,CAAb,CAAR;AAKAR,MAAAA,QAAQ,CAACF,IAAI,CAAE,GAAF,CAAL,CAAR;AACH;AACJ,GApBD;AAqBH,CAtBM","sourcesContent":["import {signInAction} from \"./actions\";\nimport {push} from \"connected-react-router\"\n\nexport const signIn = ()=>{\n    return async (dispatch, getState) => {\n        //getState関数は現在のstoreのstateの値を取得することができる。\n        const state = getState()\n        const isSignedIn = state.users.isSignedIn\n\n        //sign inされていなければsign inをしてsign inしたuserの値を変更する\n        //今回はまずgithubを使ってやってみる\n        if (!isSignedIn) {\n            const url = \"https://api.github.com/users/aku424\"\n            const response = await fetch(url);\n                        \n\n            const username = response.login\n            dispatch(signInAction({\n                isSignedIn: true,\n                uid: \"0001\", \n                username: username\n            }))\n            dispatch(push ('/'))\n        }\n    }\n}"]},"metadata":{},"sourceType":"module"}